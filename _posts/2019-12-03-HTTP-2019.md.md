---
layout:     post
title:     HTTP
subtitle:  
date:       2019-12-03
author:     
header-img: 
catalog: true
tags:
    - < web >
typora-root-url: ..
---



HTTP是一种客户端与服务端交换消息的一种协议，客户端发出的消息叫做requests,被服务端响应的消息叫做response。

#http请求
* 一个HTTP的method，经常是由一个动词像GET, POST 或者一个名词像OPTIONS，HEAD来定义客户端的动作行为。通常客户端的操作都是获取资源（GET方法）或者发送HTML form表单值（POST方法），虽然在一些情况下也会有其他操作。
* 要获取的资源的路径，通常是上下文中就很明显的元素资源的URL，它没有protocol （http://），domain（developer.mozilla.org），或是TCP的port（HTTP一般在80端口）
* http协议版本号
* 为服务端表达其他信息的可选headers
* 对于一些像POST这样的方法，报文的body就包含了发送的资源，这与响应报文的body类似
#http响应
* http协议版本号
* 一个状态码，告知对应请求执行成功或者失败，以及失败的原因
* http headers，与请求头部类似
* 可选项，响应报文包含获取的资源body

#http2.0
* http2.0基于SPDY协议（优化http协议的性能，通过压缩、多路复用和优先等级等技术，缩短网页加载并提高安全性，核心思想尽量减少TCP连接数）


#http1.x的缺点
1. HTTP/1.0一次只允许在一个TCP连接上发起一个请求，HTTP/1.1使用的流水线技术也只能部分处理请求并发，仍然会存在队列头阻塞问题，因此客户端在需要发起多次请求时，通常会采用建立多连接来减少延迟。
2. 单向请求，只能由客户端发起。
3. 请求报文与响应报文首部信息冗余量大。
4. 数据未压缩，导致数据的传输量大。
5. 通信使用明文（不加密），内容可以会被窃听
6. 不验证客户端的身份，因此有可能遭遇伪装
7. 无法验证报文的完整性，所以可能已遭篡改

#http2.0特点
1. 二进制传输
2. 多路复用
 + 帧是最小的数据单位，每个帧会标识出该帧属于哪个流，流是多个帧组成的数据流
 + 在一个TCP连接中存在多个流，可以同时发送请求，通过帧寻找判断属于哪一个请求，同时帧可以乱序发送，根据帧首部的流标识重新组装，避免了http旧版本的队头阻塞，提高了传输性能。
3. header压缩
4. 服务器push技术可以把一些资源在客户端请求时一起发送。
5. 更安全通过加密算法协议

#cookie
+ 由于HTTP协议自身不具备保存之前发送过的请求或响应的功能，即无状态协议，引入cookie技术。
+ cookie会根据服务器端发送的响应报文内的一个set-cookie的首部字段信息，通知客户端保存cookie。当下次客户端再往服务器发送请求时，客户端会自动在请求报文中加入cookie值发送出去。

#状态码
* 1xx  信息性状态码  接受的请求正在处理
* 2xx  成功状态码    请求正常处理完毕
* 3xx  重定向状态码   需要进行附加操作以完成请求
* 4xx  客户端错误状态码  服务器无法处理请求
* 5xx  服务器错误状态码   服务器处理请求出错

##301和302有什么区别
* 301永久重定向 表示请求的资源已被分配了新的url，以后应该使用新的URL
* 302临时性重定向 表示请求的资源已被分配了新的url,本次请求暂且使用新的url

#从输入url到页面展现发生了什么
1. 根据地址栏输入的地址向DNS查询IP
2. 通过IP向服务器发起TCP连接
3. 向服务器发起请求
4. 服务器返回请求内容
5. 浏览器开始解析渲染页面并显示
6. 关闭连接
